{
  "type": "message",
  "attachments": [
    {
      "contentType": "application/vnd.microsoft.card.adaptive",
      "contentUrl": null,
      "padding": "None",
      "content": {
        "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
        "type": "AdaptiveCard",
        "version": "1.2",
        "body": [
          <%= @content[:card].map {|k| k.to_json}.join(", ") %>
        ]
        <% if @content[:mentions].present? %>
          "msteams": {
            "entities": [
              <% @content[:mentions].map do |mention| %>
                {
                  "type": "mention",
                  "text": <%= "<at>#{mention[:name]}</at>" %>,
                  "mentioned": {
                    "id": <%= mention[:email] %>
                  }
                },
              <% end %>
            ]
          }
        <% end %>
      }
    }
  ]
}